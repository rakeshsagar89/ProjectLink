{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/rsagar/react-spring-boot-boilerplate/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/rsagar/react-spring-boot-boilerplate/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/rsagar/react-spring-boot-boilerplate/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function UrlForm(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),longUrl=_useState2[0],setLongUrl=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),shortUrl=_useState4[0],setShortUrl=_useState4[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return fetch(process.env.REACT_APP_API_BASE_URL+'/api/url',{method:'POST',headers:{'Content-Type':'text/plain'},body:longUrl});case 4:res=_context.sent;if(res.ok){_context.next=7;break;}throw new Error('Server error');case 7:_context.next=9;return res.text();case 9:data=_context.sent;// Assuming backend returns plain text\nsetShortUrl(data);_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](1);alert('Invalid URL or Server Error');case 16:case\"end\":return _context.stop();}},_callee,null,[[1,13]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:longUrl,onChange:function onChange(e){return setLongUrl(e.target.value);},placeholder:\"Enter URL\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Shorten\"})]}),shortUrl&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Short URL:\",' ',/*#__PURE__*/_jsx(\"a\",{href:shortUrl,target:\"_blank\",rel:\"noreferrer\",children:shortUrl})]})]});}","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","UrlForm","_useState","_useState2","_slicedToArray","longUrl","setLongUrl","_useState3","_useState4","shortUrl","setShortUrl","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","res","data","wrap","_callee$","_context","prev","next","preventDefault","fetch","process","env","REACT_APP_API_BASE_URL","method","headers","body","sent","ok","Error","text","t0","alert","stop","_x","apply","arguments","children","onSubmit","type","value","onChange","target","placeholder","href","rel"],"sources":["C:/Users/rsagar/react-spring-boot-boilerplate/client/src/components/UrlForm.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nexport default function UrlForm() {\r\n  const [longUrl, setLongUrl] = useState('');\r\n  const [shortUrl, setShortUrl] = useState('');\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const res = await fetch(process.env.REACT_APP_API_BASE_URL + '/api/url', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'text/plain',\r\n        },\r\n        body: longUrl,\r\n      });\r\n\r\n      if (!res.ok) {\r\n        throw new Error('Server error');\r\n      }\r\n\r\n      const data = await res.text(); // Assuming backend returns plain text\r\n      setShortUrl(data);\r\n    } catch (err) {\r\n      alert('Invalid URL or Server Error');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          value={longUrl}\r\n          onChange={(e) => setLongUrl(e.target.value)}\r\n          placeholder=\"Enter URL\"\r\n        />\r\n        <button type=\"submit\">Shorten</button>\r\n      </form>\r\n      {shortUrl && (\r\n        <p>\r\n          Short URL:{' '}\r\n          <a href={shortUrl} target=\"_blank\" rel=\"noreferrer\">\r\n            {shortUrl}\r\n          </a>\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"8aAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExC,cAAe,SAAS,CAAAC,OAAOA,CAAA,CAAG,CAChC,IAAAC,SAAA,CAA8BN,QAAQ,CAAC,EAAE,CAAC,CAAAO,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAnCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAC1B,IAAAI,UAAA,CAAgCX,QAAQ,CAAC,EAAE,CAAC,CAAAY,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAArCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAE5B,GAAM,CAAAG,YAAY,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,CAAC,MAAAC,GAAA,CAAAC,IAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAC3BP,CAAC,CAACQ,cAAc,EAAE,CAACH,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEC,CAAAE,KAAK,CAACC,OAAO,CAACC,GAAG,CAACC,sBAAsB,CAAG,UAAU,CAAE,CACvEC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,YAClB,CAAC,CACDC,IAAI,CAAE3B,OACR,CAAC,CAAC,QANIa,GAAG,CAAAI,QAAA,CAAAW,IAAA,IAQJf,GAAG,CAACgB,EAAE,EAAAZ,QAAA,CAAAE,IAAA,eACH,IAAI,CAAAW,KAAK,CAAC,cAAc,CAAC,QAAAb,QAAA,CAAAE,IAAA,SAGd,CAAAN,GAAG,CAACkB,IAAI,EAAE,QAAvBjB,IAAI,CAAAG,QAAA,CAAAW,IAAA,CAAqB;AAC/BvB,WAAW,CAACS,IAAI,CAAC,CAACG,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAe,EAAA,CAAAf,QAAA,aAElBgB,KAAK,CAAC,6BAA6B,CAAC,CAAC,yBAAAhB,QAAA,CAAAiB,IAAA,MAAAvB,OAAA,iBAExC,kBApBK,CAAAL,YAAYA,CAAA6B,EAAA,SAAA5B,IAAA,CAAA6B,KAAA,MAAAC,SAAA,OAoBjB,CAED,mBACE1C,KAAA,QAAA2C,QAAA,eACE3C,KAAA,SAAM4C,QAAQ,CAAEjC,YAAa,CAAAgC,QAAA,eAC3B7C,IAAA,UACE+C,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEzC,OAAQ,CACf0C,QAAQ,CAAE,SAAAA,SAAC9B,CAAC,QAAK,CAAAX,UAAU,CAACW,CAAC,CAAC+B,MAAM,CAACF,KAAK,CAAC,EAAC,CAC5CG,WAAW,CAAC,WAAW,EACvB,cACFnD,IAAA,WAAQ+C,IAAI,CAAC,QAAQ,CAAAF,QAAA,CAAC,SAAO,EAAS,GACjC,CACNlC,QAAQ,eACPT,KAAA,MAAA2C,QAAA,EAAG,YACS,CAAC,GAAG,cACd7C,IAAA,MAAGoD,IAAI,CAAEzC,QAAS,CAACuC,MAAM,CAAC,QAAQ,CAACG,GAAG,CAAC,YAAY,CAAAR,QAAA,CAChDlC,QAAQ,EACP,GAEP,GACG,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}